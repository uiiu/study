<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>填空题</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/manySelect.css">
</head>

<body>
    <!-- 头部 -->
    <div class="header">
        <div class="container">
            <div class="row index_header body_bgcolor clearfloat">
                <a href="#myModal" data-toggle="modal">
                    <div class="go_back col-xs-3">
                        <span class="glyphicon glyphicon-menu-left"></span>
                    </div>
                </a>
                <a class="correct">
                    <div class="col-xs-2 col-xs-offset-5 determine text-right">确定</div>
                </a>
            </div>
        </div>
    </div>
    <!-- 题内容 -->
    <div class="topic_box">
        <div class="container">
            <div class="topic">
                <div class="topic_header">
                    <h3 class="topic_type">填空题</h3>
                    <!-- 页数 -->
                    <div class="num_page">
                        <span class="now_page">1</span>/
                        <span class="total">10</span>
                    </div>
                </div>

                <p class="topic_txt">2019年1月15日至16日，习近平总书记在中央政
                    法工作会议上强调，政法系统要把专业化建设摆到各家重要的位置来抓。专业化建设要突出<input type="text" id="first_int" class="inputs"><input
                        type="text" class="inputs" maxlength="1"><input type="text" class="inputs"
                        maxlength="1">使用，全面提升政法干警政策运用能力。
                </p>

                <!-- 答案解析 -->
                <div class="resolve">
                    <h3 class="topic_type">答案解析</h3>
                    <p class="h4">诚信 自由</p>
                    <p class="h5">答案的解释答案的解释答案的解释答案的解释答案的解释。</p>
                </div>

            </div>
        </div>
    </div>



    <!-- 答案 -->
    <!--     <a href="#myOk" data-toggle="modal">
        <div class="Answer">
            <span>查看答案</span>
        </div>
    </a> -->


    <!-- 中途退出Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">提示</h4>
                </div>
                <div class="modal-body">
                    <p class="h4">本轮题目答题未结束，确定退出？</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-quit" data-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-quit again" data-dismiss="modal" id="quit">退出</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 点击确定之后Modal -->
    <div class="modal fade" id="myOk" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-small" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="tips">X</div>
                    <p class="desc">这道题答错了咯！</p>
                    <p class="right-tip">正确答案：诚信 自由</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 倒计时 -->
    <div class="count-time">
        <span class="second" id="second">3</span>s
    </div>

    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/style.js"></script>
    <script>
        // $(function () {
        $(".topic_txt").children("input").on("input", function () {
            if ($(this).val() !== "") {
                $(".determine").show();
            }
        });
        // 跳转下一题
        $(".correct").click(function () {
            // console.log($('.inputs'))
            var resArr = [];
            $('.inputs').each(function (index, domEle) {
                resArr.push($(this).val())
                // console.log(resArr)
            });

            if (resArr.toString() == '你,好,的') {
                window.location.href = "./selectVideo.html";
            } else {
                $('.count-time').show();
                //1000毫秒调用一次
                var timer = window.setInterval("countDown()", 1000);
                $("#myOk").modal();
            }
            // if ($(".determine").html() == '下一题') {
            //     window.location.href = "./selectVideo.html";
            // }
            // $(".resolve").show();
            // $(".determine").html('下一题');
        });

        // 倒计时
        function countDown() {
            var time = document.getElementById("second");
            //alert(time.innerHTML);
            //获取到id为time标签中的内容，现进行判断
            if (time.innerHTML == 0) {
                $("#myOk").modal("hide");
                window.location.href = "./selectVideo.html";
                //等于0时清除计时
                clearInterval(timer);
            } else {
                time.innerHTML = time.innerHTML - 1;
            }
        }




        // input连续输入文字
        //第一个input框的id为first_int 不能设置最大的输入长度
        var arr1 = [];//存储input内所有的输入
        var txt = '';
        //监听input 将input内输入的所有添加到数组中
        $("#first_int").on('input', function () {
            arr1.push($(this).val());
            // console.log("1", arr1[arr1.length - 1])
            //获取选中的所有要填充的文字
            txt = arr1[arr1.length - 1];
            var arr = new Array();
            //可以用字符或字符串分割
            arr = txt.split('');
            // console.log(arr)
            for (var i = 0; i < $(".inputs").length; i++) {
                $(".inputs").eq(i).val(arr[i]);
                $(".inputs").eq(arr.length - 1).focus();
            }
        });


        // }())
    </script>
</body>